(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("Head",{attrs:{title:"登陆/注册",show:!0,login:!0}}),a("van-tabs",{attrs:{animated:"",color:"#177cb0","title-inactive-color":"#75878a","title-active-color":"#177cb0"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("van-tab",{attrs:{title:"密码登陆"}},[a("van-form",{on:{submit:e.loginSubmit}},[a("van-field",{attrs:{name:"mobile",label:"电话号码",placeholder:"电话号码",rules:[{required:!0,message:"请填写电话号码"}]},model:{value:e.login.mobile,callback:function(t){e.$set(e.login,"mobile",t)},expression:"login.mobile"}}),a("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("登陆")])],1)],1)],1),a("van-tab",{attrs:{title:"验证登陆"}},[a("van-field",{attrs:{name:"mobile",label:"手机号",placeholder:"手机号"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),a("van-field",{attrs:{center:"",clearable:"",label:"短信验证码",placeholder:"请输入短信验证码"},scopedSlots:e._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.sendSms}},[e._v("发送验证码")])]},proxy:!0}]),model:{value:e.sms,callback:function(t){e.sms=t},expression:"sms"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:e.checkSms}},[e._v("登陆")])],1)],1),a("van-tab",{attrs:{title:"立即注册"}},[a("van-form",{on:{submit:e.registerSubmit}},[a("van-field",{attrs:{name:"username",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}}),a("van-field",{attrs:{name:"mobile",label:"电话号码",placeholder:"电话号码",rules:[{required:!0,message:"请填写电话号码"}]},model:{value:e.register.mobile,callback:function(t){e.$set(e.register,"mobile",t)},expression:"register.mobile"}}),a("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}}),a("van-field",{attrs:{type:"repassword",name:"repassword",label:"确认密码",placeholder:"确认密码",rules:[{required:!0,message:"请确认密码"}]},model:{value:e.register.repassword,callback:function(t){e.$set(e.register,"repassword",t)},expression:"register.repassword"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("注册")])],1)],1)],1)],1)],1)},i=[],o={data:function(){return{active:"a",login:{mobile:localStorage.mobile},register:{},username:"",password:"",sms:"",mobile:""}},computed:{},methods:{loginSubmit:function(e){var t=this;this.$axios.post("/vue/login",this.login).then((function(e){e.data.type&&(localStorage.mobile=t.login.mobile,localStorage.isLogin=!0,t.$router.push({name:"mine"}),sessionStorage.token=e.data.token)}))},registerSubmit:function(e){var t=this;this.$axios.post("/vue/register",this.register).then((function(e){e.data.type&&(t.active=0,t.login.mobile=t.register.mobile)}))},sendSms:function(){this.$axios.get("/yun/captcha/sent",{params:{phone:this.mobile}}).then((function(e){console.log(e)}))},checkSms:function(){var e=this;this.$axios.get("/yun/captcha/verify",{params:{phone:this.mobile,captcha:this.sms}}).then((function(t){200==t.data.code?(localStorage.mobile=e.mobile,localStorage.isLogin=!0,e.$router.push({name:"mine"})):localStorage.isLogin=!1}))}}},l=o,r=a("2877"),n=Object(r["a"])(l,s,i,!1,null,null,null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.4c48a835.js.map